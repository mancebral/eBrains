<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>eBrains Live</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
  body {
    background: linear-gradient(to bottom, #FF7E5F, #FD3A69, #FFA17F);
    margin: 0;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    color: white;
    text-align: center;
    padding: 20px;
  }

  h1 {
    margin-top: 10px;
    font-size: 2.2rem;
  }

  .slider-block {
    margin-top: 20px;
    font-size: 1.5rem;
  }

  .emoji-row {
    display: flex;
    justify-content: space-between;
    font-size: 2.2rem;
    margin-bottom: -10px;
  }

  input[type=range] {
    -webkit-appearance: none;
    width: 100%;
    height: 6px;
    background: rgba(255,255,255,0.6);
    border-radius: 3px;
  }

  input[type=range]::-webkit-slider-runnable-track {
    height: 6px;
    background: rgba(255,255,255,0.6);
    border-radius: 3px;
  }

  input[type=range]::-moz-range-track {
    height: 6px;
    background: rgba(255,255,255,0.6);
    border-radius: 3px;
  }

  input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 24px;
    width: 24px;
    border-radius: 50%;
    background: white;
    cursor: pointer;
    margin-top: -9px;
  }

  input[type=range]::-moz-range-thumb {
    height: 24px;
    width: 24px;
    border-radius: 50%;
    background: white;
    cursor: pointer;
  }

  #sendButton {
    margin-top: 35px;
    font-size: 1.4rem;
    padding: 16px 30px;
    background: rgba(255,255,255,0.2);
    border: 2px solid white;
    border-radius: 8px;
    color: white;
    cursor: pointer;
    transition: transform 0.2s ease, background 0.2s ease;
  }
  #sendButton:hover {
    background: rgba(255,255,255,0.3);
    transform: scale(1.04);
  }
  #sendButton:active {
    transform: scale(0.96);
  }

  /* SENT message */
  #sentMessage {
    font-size: 2.3rem;
    margin-top: 20px;
    opacity: 0;
    transition: opacity 0.6s ease;
    font-weight: bold;
  }

  footer img {
    width: 300px; /* 2Ã— */
    opacity: 0.9;
    margin-bottom: 10px;
  }

  @media(max-width: 500px) {
    footer img {
      width: 85%;
    }
  }
</style>
</head>

<body>
  <h1>Your Brain on Beethoven</h1>
  <h3>You can share as many times as you like during the performance. Your statuses will affect the visualisations in real time.</h3>

  <!-- VALENCE -->
  <div class="slider-block">
  <h3>Valence
    <span class="info-icon" 
          onmouseover="showInfo('info-valence')" 
          onmouseout="hideInfo('info-valence')"
          ontouchstart="showInfo('info-valence')" 
          ontouchend="hideInfo('info-valence')">
      i
    </span>
  </h3>

  <div class="slider">
    <span class="slider-label-emoji">ðŸ˜¢</span>
    <input type="range" id="valence" min="-1" max="1" step="0.01" value="0">
    <span class="slider-label-emoji">ðŸ˜„</span>
  </div>

  <div id="info-valence" class="tooltip">
    Valence representa el nivel emocional desde negativo (triste/frustrado) hasta positivo (feliz/exaltado).
  </div>
</div>

  <div class="slider-block">
  <h3>Arousal
    <span class="info-icon" 
          onmouseover="showInfo('info-arousal')" 
          onmouseout="hideInfo('info-arousal')"
          ontouchstart="showInfo('info-arousal')" 
          ontouchend="hideInfo('info-arousal')">
      i
    </span>
  </h3>

  <div class="slider">
    <span class="slider-label-emoji">ðŸ˜´</span>
    <input type="range" id="arousal" min="-1" max="1" step="0.01" value="0">
    <span class="slider-label-emoji">ðŸ¤©</span>
  </div>

  <div id="info-arousal" class="tooltip">
    Valence representa el nivel emocional desde negativo (triste/frustrado) hasta positivo (feliz/exaltado).
  </div>
</div>

  <div class="slider-block">
  <h3>Dominance
    <span class="info-icon" 
          onmouseover="showInfo('info-dominance')" 
          onmouseout="hideInfo('info-dominance')"
          ontouchstart="showInfo('info-dominance')" 
          ontouchend="hideInfo('info-dominance')">
      i
    </span>
  </h3>

  <div class="slider">
    <span class="slider-label-emoji">ðŸ˜°</span>
    <input type="range" id="dominance" min="-1" max="1" step="0.01" value="0">
    <span class="slider-label-emoji">ðŸ˜Ž</span>
  </div>

  <div id="info-dominance" class="tooltip">
    Valence representa el nivel emocional desde negativo (triste/frustrado) hasta positivo (feliz/exaltado).
  </div>
</div>

  <!-- SEND -->
  <button id="sendButton">Share in real-time!</button>
  <div id="sentMessage">âœ¨ SENT! âœ¨</div>

  <footer>
    <img src="https://github.com/mancebral/eBrains/blob/main/accelnet.png?raw=true" alt="eBrains Logo">
  </footer>

  <!-- Firebase compat v9 (soporta cÃ³digo clÃ¡sico) -->
<script src="https://www.gstatic.com/firebasejs/9.6.8/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.8/firebase-database-compat.js"></script>

<script>
/* ============ FIREBASE CONFIG ============ */
/* âš ï¸ Rellena con tus valores reales */
const firebaseConfig = {
  apiKey: "AIzaSyDGKV8B58p6C5jdGHzGzFlC_C2JUhOTbvk",
  authDomain: "ebrains-performance.firebaseapp.com",
  databaseURL: "https://ebrains-performance-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "ebrains-performance",
  storageBucket: "ebrains-performance.appspot.com",
  appId: "1:266141418381:web:d84028ce93d7a90705f3c4"
};

/* Init */
const app = firebase.initializeApp(firebaseConfig);
const db = firebase.database();

/* Unique ID por usuario */
let userId = localStorage.getItem("ebrains_user");
if(!userId){
  userId = "user_" + Math.random().toString(36).substring(2,8);
  localStorage.setItem("ebrains_user", userId);
}

/* Send */
document.getElementById("sendButton").addEventListener("click", () => {
  const valence = parseFloat(document.getElementById("valence").value);
  const arousal = parseFloat(document.getElementById("arousal").value);
  const dominance = parseFloat(document.getElementById("dominance").value);

  db.ref("live/" + userId).set({
    valence: valence,
    arousal: arousal,
    dominance: dominance,
    ts: Date.now()
  }).then(() => {
    const msg = document.getElementById("sentMessage");
    msg.style.opacity = 1;
    setTimeout(() => msg.style.opacity = 0, 1800);

    /* VIBRACIÃ“N GRATIS EN MÃ“VIL ðŸŽ‰ */
    if (navigator.vibrate) {
      navigator.vibrate(150);
    }
  });
});
</script>

</body>
</html>













